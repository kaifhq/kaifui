(function(c,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("kaif")):typeof define=="function"&&define.amd?define(["exports","kaif"],t):(c=typeof globalThis<"u"?globalThis:c||self,t(c.kaifui={},c.Kaif))})(this,function(c,t){"use strict";const k=({getDynamicConfig:e})=>{const{close:n,cancel:a,okay:i,title:s,inputs:r,onsubmit:y,onclose:C}=e(),d=typeof s=="string"?t.h("h2",null,s):typeof s=="function"?s():"",f=typeof a=="string"?t.h("a",{onclick:n},a):typeof a=="function"?a():"",h=typeof i=="string"?t.h("button",null,i):typeof i=="function"?i():"",b=Array.isArray(r)?t.h(t.Fragment,null,r.map(u=>t.h("input",{name:u}))):typeof r=="function"?r():"";return!d&&!b&&!h&&!f?t.h("dialog",{className:"kaifui-dynamic"}):t.h("dialog",{onclick:n,onclose:C,className:"kaifui-dynamic"},t.h("form",{onclick:u=>u.stopPropagation(),onsubmit:y},d,b,t.h("div",{className:"button-group"},[f,h].filter(u=>!!u))))};let m=null,o=null,l=null;const g=()=>l,p=e=>(l=e,m!=null?(m(),o):(o=document.querySelector(".kaifui-dynamic"),o||(o=document.createElement("dialog"),document.body.append(o)),m=t.init(o,k.bind(null,{getDynamicConfig:g})),o)),j={alert(e="Alert"){return new Promise((n,a)=>{e=Object.assign({cancel:"Close",close:()=>{l={},o.close(),n()},onclose:()=>{l={},n()}},typeof e=="string"?{title:e}:e),p(e).showModal()})},confirm(e="Confirm"){return new Promise((n,a)=>{e=Object.assign({cancel:"Close",okay:"OK",close:()=>{l={},o.close(),n(!1)},onsubmit:i=>{i.preventDefault(),n(!0),l={},o.close()},onclose:()=>{l={},n(!1)}},typeof e=="string"?{title:e}:e),p(e).showModal()})},prompt(e="Prompt"){return new Promise((n,a)=>{e=Object.assign({cancel:"Close",okay:"OK",inputs:["val"],close:()=>{l={},o.close(),n("")},onsubmit:i=>{i.preventDefault();const s={};new FormData(i.target).forEach((r,y)=>s[y]=r),n(Object.keys(s).length===1?s.val:s),l={},o.close()},onclose:()=>{l={},n("")}},typeof e=="string"?{title:e}:e),p(e).showModal()})}};c.dynamic=j,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});
